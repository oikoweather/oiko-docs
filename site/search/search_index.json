{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Overview","text":"<p>It is often said that 80% of data analysis is spent on the process of cleaning and preparing the data. - Hadley Wickham, Chief Scientist at RStudio</p>"},{"location":"#why-oikolab","title":"Why Oikolab?","text":"<p>If you're a data scientist or an analyst who work with weather data, we save you the most valuable, scarce, and non-renewable resource in the world - your time. Many of our users come to us after spending days or weeks trying to find and process historical weather data to do their analysis. </p> <p> </p> NASA Apollo 17 image of the Earth taken on 7 December 1972 vs. ECMWF forecast initialized with ERA5 reanalysis <p>Oikolab has post-processed hundreds of terabytes of weather data that you can access in seconds - whether you require 1 month or 80 years of weather data - so that you can focus on your analysis rather than spending hours or days downloading and processing raw data.</p> <p>You don't have to take our word for it - here are some list of what our users do instead of dealing with slow downloads or wrangling with GRIB files:</p> <ul> <li>Predict crop yield for all of Northern India</li> <li>Develop new building code for Poland</li> <li>Predict retail sales </li> <li>Analyze smart-meter electricity data in the US</li> <li>... and many, many others. </li> </ul>"},{"location":"#key-concepts","title":"Key Concepts","text":"<p>To help understand our service, here are some key concepts to help you along.</p>"},{"location":"#data-source-datasets-or-models","title":"Data Source &amp; Datasets (or Models)","text":"<p>A common question that we get is - where do we get our data? We get them from the same place like everyone else - national weather agencies such as NCEP/NOAA, ECMWF, and Environment Canada. These data are often publicly available, but come in a format (GRIB1/2ag) that is very time consuming to download and use.</p> <p>We're always adding datasets - if you have a question, please feel free to reach out!</p> Type Dataset Resolution Coverage Updates Source Reanalysis ERA5  ERA5-Land 28km  9km from 1940  from 1950 DailyMonthly ECMWF Global  Forecast GFS  ICON  GDPS 13/25km  13km  15km 16 days  5 days  10 days 6 hrs6 hrs12 hrs NCEP DWDEnvironment Canada Regional  Forecast NAM ICON-EUHRRR 2.5km6.5km2.5km 3 days 2 days 2 days 6 hrs6 hrs6 hrs NCEP DWD  NCEP Seasonal  Forecast CFS 100km 9 months Daily NCEP Ensemble Forecast GEFS 25km 10 days 6 hrs NCEP Air Quality Forecast SILAM 20km 5 days Daily FMI"},{"location":"#reanalysis-data","title":"Reanalysis data","text":"<p>Our historical dataset is based on ECMWF's reanalysis data, which is available from 1940 to present with about 5 day delay. These are different from observation data in that it observation data as measurement samples and combine with other sources of data such as satellites and weather balloons to create a holistic picture of the atmosphere consistent with atmospheric physics. To provide continuity from historical period to forecast data, we use the first 6 hours of the GFS data for the past 5 days to re-contruct the recent weather. </p>"},{"location":"#data-units","title":"Data Units","text":"<p>Unlike typical API service, our usage is not metered by the number of API calls. With a single API call, the returned data volume can range anywhere from 10 KB to 10 GB so we define one unit as a single parameter for a location for a period of one month for a time-series data, and 1<sup>o</sup> latitude by 1<sup>o</sup> longitude by 1 month for NetCDF area format.</p>"},{"location":"about/","title":"About Oikolab","text":""},{"location":"about/#our-goal","title":"Our goal","text":"<p>We started Oikolab to make climate and weather data easier to work with. We're a small operations but we pride in the fact that we run one of the largest and most comprehensive weather data repository in the world.</p> <p>We </p>"},{"location":"about/#questions","title":"Questions?","text":"<p>We love hearing from you! </p>"},{"location":"datasets/","title":"Datasets","text":""},{"location":"datasets/#dataset-update-schedule","title":"Dataset Update Schedule","text":"<p>Everyday, we download and process several terabytes of data. The following table shows the datasets and its update interval.</p> Update Schedule Datasets Daily ERA5, ERA5Land, Silam, CFS Every 6 Hours GFS, GEFS, HRRR <p>For GFS and HRRR, we archive forecast data generated at 00Z and 12Z for up to 2 years.</p>"},{"location":"datasets/#parameters","title":"Parameters","text":"<p>The following is a list of parameters available through Oikolab API. Please note that not all parameters will be available for every model.</p>"},{"location":"datasets/#group-1-temperature","title":"Group 1: Temperature","text":"Parameter Unit Description temperature <sup>o</sup>C Drybulb temperature of air at 2m above the surface of land, sea or inland waters. dewpoint_temperature <sup>o</sup>C The temperature to which the air at 2 metres above the surface of the Earth would have to be cooled for saturation to occur. wetbulb_temperature <sup>o</sup>C The temperature read by a thermometer covered in water-soaked cloth over which air is passed. Reference humidex_index <sup>o</sup>C Humidex Index as defined by Canadian Meteorologists soil_temperature_level_1 <sup>o</sup>C Soil temperature at level 1 (0 - 7cm), in the middle of layer. soil_temperature_level_2 <sup>o</sup>C Soil temperature at level 2 (7 - 28cm), in the middle of layer. soil_temperature_level_3 <sup>o</sup>C Soil temperature at level 3 (28 - 100cm), in the middle of layer. soil_temperature_level_4 <sup>o</sup>C Soil temperature at level 4 (100 - 289cm), in the middle of layer. skin_temperature <sup>o</sup>C The theoretical temperature that is required to satisfy the surface energy balance; it represents the temperature of the uppermost surface layer, which has no heat capacity."},{"location":"datasets/#group-2-wind","title":"Group 2: Wind","text":"Parameter Unit Description wind_speed m/s Wind speed at 10m above the surface. wind_direction deg Wind direction at 10m above the surface. 10m_wind_gust m/s Instantaneous wind gust at 10m above surface. 10m_u_component_of_wind m/s U component of wind at 10m above the surface. 10m_v_component_of_wind m/s V component of wind at 10m above the surface. 100m_wind_speed m/s Wind speed at 100m above the surface. 100m_wind_direction deg Wind direction at 100m above the surface. 100m_u_component_of_wind m/s U component of wind at 100m above the surface. 100m_v_component_of_wind m/s V component of wind at 100m above the surface."},{"location":"datasets/#group-3-radiation","title":"Group 3: Radiation","text":"Parameter Unit Description surface_solar_radiation W/m<sup>2</sup> Solar radiation (shortwave) that reaches a horizontal plane at the surface of the Earth. This parameter comprises both direct and diffuse solar radiation. surface_thermal_radiation W/m<sup>2</sup> Thermal radiation (longwave) emitted by the atmosphere and clouds that reaches a horizontal plane at the surface of the Earth. surface_direct_solar_radiation W/m<sup>2</sup> Direct solar radiation (shortwave) reaching the surface of the Earth, passing through a horizontal plane. direct_normal_solar_radiation W/m<sup>2</sup> Solar radiation received per unit area normal to the direction of the sun. surface_diffuse_solar_radiation W/m<sup>2</sup> Scattered solar radiation received per horizontal unit area on the surface."},{"location":"datasets/#group-4-pressure-humidity-precipitation","title":"Group 4: Pressure, Humidity &amp; Precipitation","text":"Parameter Unit Description relative_humidity - Relative humidity calculated from dewpoint temperature, drybulb temperature and pressure. surface_pressure Pa The pressure (force per unit area) of the atmosphere at the surface of land, sea and inland water. mean_sea_level_pressure Pa The pressure (force per unit area) of the atmosphere at sea level. total_cloud_cover - Single level field calculated from the cloud occurring at different model levels through the atmosphere. total_precipitation mm The accumulated liquid and frozen water, comprising rain and snow, that falls to the Earth's surface. It is the sum of large-scale precipitation and convective precipitation. snowfall mm The accumulated snow that falls to the Earth's surface. It is the sum of large-scale snowfall and convective snowfall. volumetric_soil_water_layer_1 - Soil moisture at level 1 (0 - 7cm) volumetric_soil_water_layer_2 - Soil moisture at level 2 (7 - 28cm) volumetric_soil_water_layer_3 - Soil moisture at level 3 (28 - 100cm) volumetric_soil_water_layer_4 - Soil moisture at level 4 (100 - 289cm)"},{"location":"datasets/#group-5-other-parameters","title":"Group 5: Other Parameters","text":"Parameter Unit Description boundary_layer_height m The depth of air next to the Earth's surface which is most affected by the resistance to the transfer of momentum, heat or moisture across the surface. cloud_base_height m The height above the Earth's surface of the base of the lowest cloud layer, at the specified time. convective_available_potential_energy J/kg Indication of the instability (or stability) of the atmosphere and can be used to assess the potential for the development of convection, which can lead to heavy rainfall, thunderstorms and other severe weather. convective_inhibition J/kg This parameter is a measure of the amount of energy required for convection to commence. downward_uv_radiation_at_the_surface W/m<sup>2</sup> The amount of ultraviolet (UV) radiation reaching the surface. It is the amount of radiation passing through a horizontal plane. evaporation mm The accumulated amount of water that has evaporated from the Earth's surface, including a simplified representation of transpiration (from vegetation), into vapour in the air above. forecast_albedo - A measure of the reflectivity of the Earth's surface forecast_surface_roughness m The aerodynamic roughness length in metres as a measure of the surface resistance. friction_velocity m/s A theoretical wind speed at the Earth's surface that expresses the magnitude of stress. high_cloud_cover - The proportion of a grid box covered by cloud occurring in the high levels of the troposphere. high_vegetation_cover - The fraction of the grid box that is covered with vegetation that is classified as \"high\". The values vary between 0 and 1 but do not vary in time leaf_area_index_high_vegetation m<sup>2</sup>/m<sup>2</sup> The surface area of one side of all the leaves found over an area of land for vegetation classified as \"high\". leaf_area_index_low_vegetation m<sup>2</sup>/m<sup>2</sup> The surface area of one side of all the leaves found over an area of land for vegetation classified as \"low\". low_cloud_cover - The proportion of a grid box covered by cloud occurring in the lower levels of the troposphere. low_vegetation_cover - The fraction of the grid box that is covered with vegetation that is classified as \"low\". The values vary between 0 and 1 but do not vary in time medium_cloud_cover - The proportion of a grid box covered by cloud occurring in the middle levels of the troposphere. potential_evaporation mm A measure of the extent to which near-surface atmospheric conditions are conducive to the process of evaporation. skin_reservoir_content mm The amount of water in the vegetation canopy and/or in a thin layer on the soil. sub_surface_runoff mm The water  that drains away under the ground. surface_latent_heat_flux W/m<sup>2</sup> The transfer of latent heat (resulting from water phase changes, such as evaporation or condensation) between the Earth's surface and the atmosphere. surface_runoff mm The water  that drains away over the ground. total_column_rain_water kg/m<sup>2</sup> The total amount of water in droplets of raindrop size (which can fall to the surface as precipitation) in a column extending from the surface of the Earth to the top of the atmosphere. total_column_water_vapour kg/m<sup>2</sup> The total amount of water vapour in a column extending from the surface of the Earth to the top of the atmosphere. zero_degree_level m The height above the Earth's surface where the temperature passes from positive to negative values, corresponding to the top of a warm layer"},{"location":"datasets/#group-6-air-quality","title":"Group 6: Air Quality","text":"Parameter Unit Description CO ug/m<sup>3</sup> Carbon Monoxide NO ug/m<sup>3</sup> Nitrogen Oxide NO2 ug/m<sup>3</sup> Nitrogen Dixoide O3 ug/m<sup>3</sup> Ozone PM10 ug/m<sup>3</sup> Particulate Matters (PM) inhalable particles, with diameters that are generally 10 micrometers and smaller PM25 ug/m<sup>3</sup> Particulate Matters (PM) inhalable particles, with diameters that are generally 2.5 micrometers and smaller SO2 ug/m<sup>3</sup> Sulfur Dioxide"},{"location":"faq/","title":"Oikolab FAQ","text":""},{"location":"faq/#what-does-oiko-mean","title":"What does 'Oiko' mean?","text":"<p>The word 'oiko' derives from Greek 'oikos', which is the origin of the word 'eco'. In Korean, this also means 'cucumber nose' that we thought was cute. </p>"},{"location":"faq/#how-do-we-cite-the-data","title":"How do we cite the data?","text":"<p>Each API response will contain a citation to the dataset used. </p>"},{"location":"faq/#how-do-you-fill-in-the-gaps-between-era5-and-recent-5-days-historical-weather","title":"How do you fill in the gaps between ERA5 and recent (&lt; 5 days) historical weather?","text":""},{"location":"faq/#what-is-the-difference-between-reanalysis-data-and-observation-data","title":"What is the difference between Reanalysis data and Observation data?","text":"<p>All models are wrong, but some are useful. - George Box</p> Reanalyssi Data Weather Station Data Data Collection Method Reanalysis data is generated using numerical weather prediction models that assimilate various observational data sources, including weather station observations, satellite measurements, and other available data into its atmospheric physics model. Weather station observation data is collected directly from ground-based weather stations that measure various meteorological variables like temperature, humidity, wind speed, and precipitation. Typically, these don't include solar radiation data. Data Assimilation and Quality Control Reanalysis data undergoes a rigorous process of data assimilation, where observational data from various sources are combined with the model's output to generate a representation of the atmosphere that is consistent with our understanding of atmosheric physics. Weather station observations are subject to quality control procedures as well, but the level of scrutiny may vary depending on the data source and the organization responsible for data management. Limitations Model resolution Observation Bias and Quality Control. Limited sets of variables. <p>In general, we recommend using Reanalysis data for most data-intensive application, such as training machine learning models, building energy simulation and forecast prediction. For extreme weather events, it may be more reliable to consult the weather station observation if there is a station nearby. If you're not sure, we're always happy to provide guidance - please feel free to reach out.</p>"},{"location":"quickstart/","title":"Quick Start","text":"<p>From zero to weather hero in 5 minutes.</p> <p>We need to know three things when you make a data request via API:</p> <ul> <li>Where - so we know the location you're interested in. This can be a place name (we'll look up the lat/lon coordinate), the lat/lon coordiates, or a lat/lon boundary. You can even tell us hundreds of locations. </li> <li>When - so we know the time span of the data to fetch, since we have more than 80 years of data. If you don't tell us, we'll just assume that you're interested in simple weather forecast.</li> <li>What - so we know which weather parameters or dataset you're interested in. We have more than 60 parameters and many different datasets. If you don't tell us, we assume the usual suspects like the temperature, wind speed, and total precipitation etc.</li> </ul>"},{"location":"quickstart/#a-simple-example","title":"A simple example","text":"<p>Let's start with a simple example - requesting temperature, wind speed and surface solar radiation data for Toronto, Ontario for the last 30 years (1990 to 2020). </p> <p>The data is accessed REST API by specifying the location, parameters and time-range of the data needed.  </p> <pre><code>import requests\napi_key = 'your-api-key'\nr = requests.get('https://api.oikolab.com/weather',\nparams={'param': ['temperature', 'wind_speed'],\n'location': 'Toronto, Ontario',\n'start': '1990-01-01',\n'end': '2020-12-31'}\nheaders={'api-key': api_key}\n)\n</code></pre> <p>Don't forget to use your API key!</p> <p>You can find your API key in profile page when you log into your account.</p> <p>This will return data in JSON format, which we can convert to dataframe using Python's Pandas library. Note that we return the dataset name so you know the which dataset was used to generate the data.</p> <pre><code>import pandas as pd\nimport json\nweather_data = json.loads(r.json()['data'])\ndf = pd.DataFrame(index=pd.to_datetime(weather_data['index'],unit='s'),\ndata=weather_data['data'],\ncolumns=weather_data['columns'])\n</code></pre> datetime coordinates (lat,lon) model (name) model elevation (surface) utc_offset (hrs) temperature (degC) 2023-06-10 00:00:00 (43.653482, -79.383935) era5 127.19 -5 18.48 2023-06-10 01:00:00 (43.653482, -79.383935) era5 127.19 -5 17.96 2023-06-10 02:00:00 (43.653482, -79.383935) era5 127.19 -5 17.29 2023-06-10 03:00:00 (43.653482, -79.383935) era5 127.19 -5 16.44 <p>For regional dataset, you can provide the bounding latitude and longitude values. In this case, we'll return the data in NetCDF format. For example, the following request will return HRRR forecast data for California. Note that when calling datasets such as this, the response can be several gigabytes in size and can take more than a few seconds to process.</p> <pre><code>import requests\napi_key = 'your-api-key'\nr = requests.get('https://api.oikolab.com/weather',\nparams={'param': ['temperature', 'wind_speed'],\n'north': 65,\n'south': 45,\n'east': -110,\n'west': -130,\n'model': 'hrrr'}\nheaders={'api-key': api_key}\n)\n</code></pre>"},{"location":"references/","title":"API Reference","text":"<p>The following endpoints are available.</p>"},{"location":"references/#weather","title":"/weather","text":"Parameter Description Notes param Valid parameters Default: temperature, dewpoint_temperature, wind_speed, mean_sea_level_pressure, surface_solar_radiation, surface_thermal_radiation, total_cloud_cover start start datetime string YYYY-MM-DD (UTC) Defaults to 3 days into the past. Provided time is interpreted as UTC. end end datetime string YYYY-MM-DD (UTC) Defaults to 7 days into the future. Provided time is interpreted as UTC. freq H (hourly), D (daily), or M (monthly) Defaults to H resample_method max, mean, min, or sum When the frequency is set to daily (D) or monthly (M), use this to specify the aggregation method. location city name or zipcode This value is used to look up latitude/longitude. location_id reference for location This is handy when making requests for multiple locations. lat latitude(s) If location is not provided. Up to 100 locations allowed. lon longitude(s) If location is not provided. Up to 100 locations allowed. north latitude north For bounding box. south latitude south For bounding box. east longitude east For bounding box. west longitude west For bounding box. model era5, era5land, gfs, gefs, hrrr, cfs Use to specify dataset if applicable. format json, csv, or netcdf Defaults to json"},{"location":"references/#example","title":"Example","text":"<pre><code>import requests\napi_key = 'your-api-key'\nr = requests.get('https://api.oikolab.com/weather',\nparams={'param': ['temperature', 'wind_speed'],\n'lat': [32, 24, 40],\n'lat': [32, 24, 40],\n'location_id': ['store1', 'store2','store3'],\n'start': '2022-01-01',\n'end': '2022-12-31'}\nheaders={'api-key': api_key}\n)\n</code></pre>"},{"location":"references/#airquality","title":"/airquality","text":"Parameter Description Notes param Valid parameters Default: NO, SO, PM10, PM25, Ozone location city name or zipcode This value is used to look up latitude/longitude. lat latitude(s) If location is not provided. Up to 100 locations allowed. lon longitude(s) If location is not provided. Up to 100 locations allowed. <pre><code>import requests\napi_key = 'your-api-key'\nr = requests.get('https://api.oikolab.com/airquality',\nparams={'lat': [32, 24, 40],\n'lat': [32, 24, 40],\n'location_id': ['store1', 'store2','store3'],\nheaders={'api-key': api_key}\n)\n</code></pre>"},{"location":"references/#epw","title":"/epw","text":"<p>This API will return an EPW file for the given location and year (if applicable). Each EPW files will be 250 units. The EPW is generated from ERA5 data on the fly so it will take 10~15 seconds and is not limited to airport locations. This is most easily done via our Weather Downloader App, but if you require many hundreds of EPW files, this is probably easier to do.</p> Parameter Description Notes location city name or zipcode This value is used to look up latitude/longitude. year year for AMY If not specified, a TMY file will be returned using the latest 15 years of data (180 months). lat latitude(s) If location is not provided. lon longitude(s) If location is not provided. <pre><code>import requests\napi_key = 'your-api-key'\nr = requests.get('https://api.oikolab.com/epw',\nparams={'lat': 32,\n'lat': 32,\n'year': 2020,\nheaders={'api-key': api_key}\n)\n</code></pre>"},{"location":"references/#datasets","title":"/datasets","text":"<p>Use this to get an update of the data. If you'd like to check that the data has been updated before making a call, use this API endpoint. There is no cost associated with this.</p> <pre><code>import requests\napi_key = 'your-api-key'\nr = requests.get('https://api.oikolab.com/datasets'\nheaders={'api-key': api_key}\n)\n</code></pre>"},{"location":"tips-tricks/","title":"Tips & Tricks","text":""},{"location":"tips-tricks/#specifying-locations","title":"Specifying locations","text":"<p>When specifying locations using latitude &amp; longitude coordinate, there is no need to specify more than two decimal places.</p>"},{"location":"tips-tricks/#calling-multiple-locations","title":"Calling multiple locations","text":"<p>If you need weather data for say thousands of locations, it's easier to do it with <code>POST</code> operation. Note the slight difference in the way data is specified.</p> <pre><code>import requests\napi_key = 'your-api-key'\nr = requests.post('https://api.oikolab.com/weather',\nparams={'param': ['temperature', 'wind_speed'],\n'lat': [ ... ],\n'lon': [ ... ]'}\nheaders={'api-key': api_key}\n)\n</code></pre>"},{"location":"tips-tricks/#_1","title":"Tips & Tricks","text":""}]}